<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>typethefont â€“ Identify Any Font</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" rel="stylesheet" />
<style>
body{font-family:'Segoe UI',sans-serif;background:#f4f9ff;padding:2rem}
header{display:flex;align-items:center;margin-bottom:2rem}
header img{height:60px;margin-right:1rem}
header h1{font-size:2rem;margin:0;color:#007bff}
#drop-zone{border:2px dashed #007bff;padding:2rem;text-align:center;background:white;border-radius:8px;cursor:pointer}
#drop-zone.dragover{background:#e3f2fd}
#preview{max-width:100%;max-height:500px;margin:2rem auto 1rem;display:block;border-radius:4px}
button{background:#007bff;color:white;padding:.5rem 1rem;border:none;border-radius:4px;cursor:pointer}
button:hover{background:#0056b3}
.font-result{background:white;padding:1rem;border-radius:8px;margin-bottom:1.5rem;box-shadow:0 1px 4px rgba(0,0,0,0.1)}
.font-result span{display:block;margin-top:.5rem;font-size:22px}
.font-result a{color:#ff6600}
</style>
</head>
<body>
<header><img src="logo.png" alt="logo"><h1>typethefont</h1></header>
<div id="drop-zone"><p>ðŸŽ¯ Drag & drop an image here, or click to upload</p><input type="file" id="image-upload" accept="image/*" hidden /></div>
<img id="preview" src="" alt="Preview"/>
<div><button id="reset-button">Reset</button><form id="upload-form" style="display:inline;"><button type="submit">Crop & Identify Font</button></form></div>
<div id="results"></div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
<script>
let cropper=null;const drop=document.getElementById("drop-zone"),preview=document.getElementById("preview"),form=document.getElementById("upload-form"),input=document.getElementById("image-upload"),results=document.getElementById("results");drop.addEventListener("click",()=>input.click());drop.addEventListener("dragover",e=>{e.preventDefault(),drop.classList.add("dragover")});drop.addEventListener("dragleave",()=>drop.classList.remove("dragover"));drop.addEventListener("drop",e=>{e.preventDefault(),drop.classList.remove("dragover");const t=e.dataTransfer.files[0];t&&(input.files=e.dataTransfer.files,loadFile(t))});input.addEventListener("change",e=>{const t=e.target.files[0];t&&loadFile(t)});function loadFile(e){const t=new FileReader;t.onload=()=>{preview.src=t.result,cropper&&cropper.destroy(),preview.onload=()=>{cropper=new Cropper(preview,{aspectRatio:NaN,viewMode:1})}},t.readAsDataURL(e)}form.addEventListener("submit",async function(e){e.preventDefault(),results.innerHTML="Processing...";const t=cropper.getCroppedCanvas();t.toBlob(async function(e){const t=new FormData;t.append("file",e,"cropped.png");try{const e=await fetch("/identify-font",{method:"POST",body:t}),a=await e.json();results.innerHTML="<h2>Matching Fonts</h2>",a.matches.forEach(font=>{const link=document.createElement("link");link.rel="stylesheet",link.href=`https://fonts.googleapis.com/css2?family=${font.name.replace(/ /g,"+")}&display=swap`,document.head.appendChild(link);const block=document.createElement("div");block.className="font-result",block.innerHTML=`<strong>${font.name}</strong><span style="font-family:'${font.name}',sans-serif;">${a.text}</span><a href="${font.url}" target="_blank">Download</a>`,results.appendChild(block)})}catch(e){results.innerHTML="Error identifying font."}},"image/png")});
</script>
</body></html>
